<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<meta charset="UTF-8">
	<title>Title</title>
</head>

<body>
<table class="main">
	<tr></tr>
	<tr>
		<td class="hr1">新用户注册</td>
	</tr>
	<tr>
		<form action="">
	<tr>
		<td>
			<table>
				<tr>
					<td class="left">用户名：</td>
					<td class="centar"><input type="text" id="user" class="in" onblur="checkUser()"></td>
					<td>
						<div id="userPrompt">用户名由英文字母和数字组成的4-16位字符，以字母开头</div>
					</td>
				</tr>
				<tr>
					<td class="left">密码：</td>
					<td class="center"><input type="password" id="pwd" class="in" onblur="checkpwd()"></td>
					<td>
						<div id="pwdPrompt">
							密码由英文字母和数字组成的4-10位字符
						</div>
					</td>
				</tr>
				<tr>
					<td class="left">
						确认密码：
					</td>
					<td class="center"><input type="password" id="repwd" class="in" onblur="checkRepwd()"></td>
					<td>
						<div id="repwdPrompt"></div>
					</td>
				</tr>
				<tr>
					<td class="left">
						电子邮箱：
					</td>
					<td class="center"> <input type="text" id="email" class="in" onblur="checkEmail()"></td>
					<td>
						<div id="emailPrompt"></div>
					</td>
				</tr>
				<tr>
					<td class="left">手机号码：</td>
					<td class="center"><input type="text" id="mobile" class="in" onblur="checkMobile()"></td>
					<td>
						<div id="mobilePrompt"></div>
					</td>
				</tr>
				<tr>
					<td></td>
					<td class="center"><button>提交</button></td>
					<td></td>
				</tr>
			</table>
		</td>
	</tr>
	</form>
	</tr>
</table>
<script>
	function $(elementId) {
		return document.getElementById(elementId).value;
	}

	function divId(elementId) {
		return document.getElementById(elementId);
	}

	function checkUser() {
		var user = $('user');
		var userId = divId('userPrompt')
		userId.innerHTML = '';
		var reg = /^[a-z][a-zA-Z0-9]{3,15}$/;
		if (reg.test(user) == false) {
			userId.innerHTML = '用户名不正确';
			return false;
		}
		userId.innerHTML = '用户名可用';
		return true;
	}

	function checkpwd() {
		var pwd = $('pwd');
		var pwdId = divId('pwdPrompt');
		pwdId.innerHTMl = ' ';
		var reg = /^[a-zA-z0-9]{4,10}$/;
		if (reg.test(pwd) == false) {
			pwdId.innerHTML = '密码不能含有非法字符，长度在4-10之间'
			return false;
		}
		return true;
	}

	function checkRepwd() {
		var repwd = $('repwd');
		var pwd = $('pwd');
		var Rpwd = divId('repwdPrompt');
		Rpwd.innerHTMl = '';
		if (pwd != repwd) {
			Rpwd.innerHTML = '两次输入的密码不一致';
			//console.log('密码不一致')
			return false;
		}
		Rpwd.innerHTML = '';
		// console.log('密码一致')
		return true;
	}

	function checkEmail() {
		var email = $('email');
		var emailPrompt = divId('emailPrompt');
		emailPrompt.innerHTML = ' ';
		var reg = /^\w+@\w+(\.[a-zA-Z]{2,3}){1,2}$/;
		if (reg.test(email) == false) {
			emailPrompt.innerHTML = 'Email格式不正确，例如web@sohu.com';
			return false;
		}
		return true
	}

	function checkMobile() {
		var mobile = $('mobile');
		var mobileId = divId('mobilePrompt');
		var regMobile = /^1\d{10}$/;
		if (regMobile.test(mobile) == false) {
			mobileId.innerHTML = '手机号码不正确，请重新输入';
			return false;
		}
		mobileId.innerHTML = ' ';
		return true;
	};
</script>
